{"version":3,"sources":["assets/images/ac-logo.svg","api/auth.js","contexts/AuthContext.jsx","pages/HomePage.jsx","components/common/auth.styled.js","assets/images/check-active.svg","assets/images/check-circle.svg","assets/images/check-hover.svg","components/AuthInput.jsx","components/Header.jsx","components/TodoInput.jsx","components/TodoItem.jsx","components/TodoCollection.jsx","components/Footer.jsx","pages/LoginPage.jsx","pages/SignUpPage.jsx","api/todos.js","pages/TodoPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["_path","_path2","_path3","_path4","authURL","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","username","password","_yield$axios$post","data","wrap","_context","prev","next","axios","post","concat","sent","authToken","abrupt","_objectSpread","success","t0","console","error","stop","_x","apply","arguments","register","_ref4","_callee2","_ref3","email","_yield$axios$post2","_context2","_x2","checkPermission","_ref5","_callee3","response","_context3","get","headers","Authorization","_x3","defaultAuthContext","isAuthenticated","currentMember","logout","AuthContext","createContext","useAuth","useContext","AuthProvider","children","_useState","useState","_useState2","_slicedToArray","setIsAuthenticated","_useState3","_useState4","payload","setPayload","pathname","useLocation","useEffect","checkTokenIsValid","tempPayload","localStorage","getItem","jwt","_jsx","Provider","value","id","sub","name","_register2","_yield$_register","setItem","_login2","_yield$_login","removeItem","HomePage","navigate","useNavigate","StyedContainer","styled","div","_templateObject","_taggedTemplateLiteral","StyledAuthInputContainer","_templateObject2","StyledButton","button","_templateObject3","StyledLinkText","_templateObject4","_excluded","_extends","Object","assign","bind","target","i","length","source","key","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAcLogo","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","fillRule","clipRule","d","ForwardRef","StyledContainer","StyledLabel","label","StyledInput","input","AuthInput","type","placeholder","onChange","_jsxs","event","StyledHeader","header","StyledGreetingText","Header","StyledAddTodoContainer","StyledLabelIcon","StyledInputContainer","StyledAddTodoActionContainer","TodoInput","inputValue","onKeyDown","onAddTodo","className","clsx","active","htmlFor","onClick","StyledTaskItem","CheckActiveIcon","CheckCircleIcon","CheckHoverIcon","TodoItem","todo","onSave","onDelete","onToggleDone","onChangeMode","inputRef","useRef","done","isDone","edit","isEdit","onDoubleClick","current","defaultValue","TodoCollection","todos","map","StyledFooter","footer","Footer","todosQty","LoginPage","setUsername","setPassWord","_useAuth","handleClick","Swal","fire","position","timer","icon","showConfirmButton","AuthContainer","ACLogoIcon","AuthInputContainer","nameInputValue","passwordInputValue","AuthButton","Link","to","AuthLinkText","SignUpPage","setEmail","_useState5","_useState6","emailInputValue","passowrdInputValue","baseUrl","axiosInstance","create","baseURL","interceptors","request","use","config","token","Promise","reject","getTodos","res","createTodo","patchTodo","patch","deleteTodo","_callee4","_context4","delete","TodoPage","setInputValue","setTodos","todoNums","handleAddTodo","prevTodos","_toConsumableArray","handleKeyDown","handleToggleDone","currentTodo","find","handleSave","_ref6","handleDelete","_ref7","_callee5","_context5","filter","getTodosAsync","_ref8","_callee6","_todos","_context6","App","BrowserRouter","basename","process","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.b7d7e5b3.chunk.js","sourcesContent":["var _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgAcLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z\",\n    fill: \"#FF6600\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z\",\n    fill: \"#FF6600\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z\",\n    fill: \"#FF6600\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z\",\n    fill: \"#FF6600\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAcLogo);\nexport default __webpack_public_path__ + \"static/media/ac-logo.f4e0f3cb.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios';\n\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\n\n// 登入function\nexport const login = async ({ username, password }) => {\n  try {\n    // 登入使用post\n    // 因為使用axios，response會被封裝在data裡面，透過解構的方式{ data } 將data取出\n    const { data } = await axios.post(`${authURL}/login`, {\n      username,\n      password,\n    });\n\n    // 登入成功之後會取得一個token\n    const { authToken } = data;\n    // 利用取得token的存在代表成功登入，就回傳資料以便後續利用，也一併再回傳資料時整理資料格式，家讓success屬性作為flag，之後就可以利用success屬性來判斷是否登入成功\n    if (authToken) {\n      return { success: true, ...data };\n    }\n\n    return data;\n  } catch (error) {\n    console.error('[Login Failed]:', error);\n    return { success: false };\n  }\n};\n\n// 註冊function\nexport const register = async ({ username, email, password }) => {\n  try {\n    const { data } = await axios.post(`${authURL}/register`, {\n      username,\n      email,\n      password,\n    });\n\n    const { authToken } = data;\n    // 利用取得token的存在代表成功登入，就回傳資料以便後續利用，也一併再回傳資料時整理資料格式，家讓success屬性作為flag，之後就可以利用success屬性來判斷是否登入成功\n    if (authToken) {\n      return { success: true, ...data };\n    }\n    return data;\n  } catch (error) {\n    console.error('[Register Failed]: ', error);\n    return { success: false };\n  }\n};\n\n// 身份驗證\n// 根據API規格傳入Token資訊\nexport const checkPermission = async (authToken) => {\n  try {\n    const response = await axios.get(`${authURL}/test-token`, {\n      headers: {\n        Authorization: 'Bearer ' + authToken,\n      },\n    });\n    // 根據後端提供的API規格，後端會提供sucess屬性告知true/false，並附上erroe說明，獲得後端回應之後將success屬性\n    return response.data.success;\n  } catch (error) {\n    console.error('[Check Permission Failed]:', error);\n  }\n};\n","import { login, register, checkPermission } from 'api/auth';\nimport { createContext, useState, useEffect } from 'react';\nimport * as jwt from 'jsonwebtoken'; // 引入jwt套件，才能使用jwt.decode來解析token\nimport { useLocation } from 'react-router-dom';\nimport { useContext } from 'react';\n\n// 定義contexts有哪些內容，每個頁面都可以使用的default資料狀態\nconst defaultAuthContext = {\n  // 使用者是否登入的判斷依據，預設為 false，若取得後端的有效憑證，則切換為 true\n  isAuthenticated: false, // 使用者是否登入的判斷依據，預設為 false，若取得後端的有效憑證，則切換為 true\n  currentMember: null, // 當前使用者相關資料，預設為 null，成功登入後就會有使用者資料（解析payload獲得currentMember）\n  register: null, // 註冊方法\n  login: null, // 登入方法\n  logout: null, // 登入方法\n};\n\n// 透過createContext方法定義出AuthContext\nconst AuthContext = createContext(defaultAuthContext);\n// 為了讓其他頁面都可以使用到上面的值，最後要用useContext\nexport const useAuth = () => useContext(AuthContext);\n// 要export AuthProvider\n\nexport const AuthProvider = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [payload, setPayload] = useState(null);\n  // 要偵測「路徑是否變化」，則可以運用 react-router-dom 提供的 useLocation 方法，這個方法可以取得瀏覽器網址列中的路徑資訊\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    const checkTokenIsValid = async () => {\n      // localStorage取得authToken\n      const authToken = localStorage.getItem('authToken');\n      // 如果沒有authToken代表身份沒有經過驗證，所以要用setIsAuthenticated將isAuthenticated的狀態改成false，也不會有從authToken解析得到的payLoad，所以要用setPayload改成null\n      if (!authToken) {\n        setIsAuthenticated(false);\n        setPayload(null);\n        return; //動作停在這裡，不需要再去做後面的check動作\n      }\n      // 利用checkPermission api確認authToken的有效性，有效的及果會在result變數裡\n\n      const result = await checkPermission(authToken);\n      // 驗證有效\n      if (result) {\n        // 結果有效就用setIsAuthenticated將isAuthenticated改為true\n        setIsAuthenticated(true);\n        // 用jwe.decode解析authToken取得解析後的結果存在tempPayload\n        const tempPayload = jwt.decode(authToken);\n        // 再用setPayload將tempPayload存到payLoad裡面\n        setPayload(tempPayload);\n        // 驗證失敗\n      } else {\n        setIsAuthenticated(false);\n        setPayload(null);\n      }\n    };\n\n    checkTokenIsValid();\n    // 一旦 pathname 有改變，就需要重新驗證 token，因此需要使用 useEffect，而 dependency 參數需要設定為 pathname\n  }, [pathname]);\n\n  return (\n    <AuthContext.Provider\n      //  value指定defaultContext裡面的定義內容分別是什麼\n      value={{\n        //  對應isAughtenticated，在上面用useState儲存是否有效的值const [isAuthenticated, setIsAuthenticated] = useState(false);因此就可以在value裡面把值向外傳\n        isAuthenticated,\n        // 透過解析token的方式取得paylaod，在上面使用useState儲存const [payload, setPayload] = useState(null);，payload可能是null，所以加入判斷式，如果payload存在就去取得id和name\n        currentMember: payload && {\n          id: payload.sub, // jwt解析工具解析出sub字串作為使用者ID\n          name: payload.name,\n        },\n        // 從resgister api取得資訊，自行定義為data，因爲 AuthContext 不會直接知道使用者在註冊表單的輸入值，所以需要補上一個 data 當成調用函式時的參數\n        // 呼叫register api function。必需是async function\n        register: async (data) => {\n          // 將原本在signup page的function放到這裡，取出token資料\n          // 從register api function取得success和authToken\n          const { success, authToken } = await register({\n            // 從data拿到username,email.password\n            username: data.username,\n            email: data.email,\n            password: data.password,\n          });\n          // 從register api拿到token之後，利用jwt.decode解析token之後取得payload\n          const tempPayload = jwt.decode(authToken);\n          // 驗證解析後的payload是否存在，存在的話就用setPayload儲存\n          if (tempPayload) {\n            setPayload(tempPayload);\n            // 因為經過if判斷之後具有解析token後的tempPload並用setPaylod儲存在payload，所以下面使用setIsAuthenticated將isAuthenticated的狀態改成true\n            setIsAuthenticated(true);\n            // 把解析的token存到localstorage\n            localStorage.setItem('authToken', authToken);\n          } else {\n            // 如果解析token之後無效，沒有產生tempPload，就用setPayload將payload的內容設定為無null\n            setPayload(null);\n            // 因為沒有註冊或登入成功，沒有payload的值，所以使用setIsAuthenticated將isAuthenticated狀態設定為false\n            setIsAuthenticated(false);\n          }\n          // 回傳success結果\n          return success;\n        },\n        // loginContext\n        // 呼叫login apifunction。必需是async function\n        login: async (data) => {\n          const { success, authToken } = await login({\n            username: data.username,\n            password: data.password,\n          });\n          const tempPayload = jwt.decode(authToken);\n          if (tempPayload) {\n            setPayload(tempPayload);\n            setIsAuthenticated(true);\n            localStorage.setItem('authToken', authToken);\n          } else {\n            setPayload(null);\n            setIsAuthenticated(false);\n          }\n          return success;\n        },\n        // logout功能\n        logout: () => {\n          // 移除localStorage的authToken\n          localStorage.removeItem('authToken');\n          setPayload(null);\n          setIsAuthenticated(false);\n        },\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import { useAuth } from 'contexts/AuthContext';\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst HomePage = () => {\n  const { isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/todos');\n    } else {\n      navigate('/login');\n    }\n  }, [navigate, isAuthenticated]);\n};\n\nexport default HomePage;\n","import styled from 'styled-components';\n\nconst StyedContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 50px;\n`;\n\nconst StyledAuthInputContainer = styled.div`\n  width: 50%;\n  margin-top: 30px;\n`;\n\nconst StyledButton = styled.button`\n  border-radius: 30px;\n  background-color: #ff6600;\n  border: none;\n\n  color: white;\n  min-width: 300px;\n  font-family: 'Noto Sans TC', sans-serif;\n  font-weight: bold;\n  padding: 6px 0;\n  margin: 2rem 0;\n\n  &.hover {\n    cursor: pointer;\n  }\n`;\n\nconst StyledLinkText = styled.div`\n  color: #0062ff;\n  font-size: 16px;\n  font-weight: 400;\n`;\n\nexport {\n  StyedContainer as AuthContainer,\n  StyledAuthInputContainer as AuthInputContainer,\n  StyledButton as AuthButton,\n  StyledLinkText as AuthLinkText,\n};\n","export default __webpack_public_path__ + \"static/media/check-active.95ca055c.svg\";","export default __webpack_public_path__ + \"static/media/check-circle.30720b46.svg\";","export default __webpack_public_path__ + \"static/media/check-hover.5e00062b.svg\";","import styled from 'styled-components';\n\nconst StyledContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  background-color: #f5f8fa;\n  width: 100%;\n  height: 54px;\n  border-bottom: 2px solid black;\n`;\nconst StyledLabel = styled.label`\n  font-size: 14;\n  color: '#696974';\n  text-align: start;\n`;\n\nconst StyledInput = styled.input`\n  outline: none;\n  border: none;\n  background-color: #f5f8fa;\n  border-radius: 0px;\n`;\n\nconst AuthInput = ({ type, label, value, placeholder, onChange }) => {\n  return (\n    <StyledContainer>\n      <StyledLabel>{label}</StyledLabel>\n      <StyledInput\n        type={type || 'text'}\n        value={value}\n        placeholder={placeholder}\n        onChange={(event) => onChange?.(event.target.value)}\n      />\n    </StyledContainer>\n  );\n};\n\nexport default AuthInput;\n","import styled from 'styled-components';\n\nconst StyledHeader = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  color: var(--major);\n  padding: 0 16px;\n\n  h3 {\n    font-weight: 400;\n    user-select: none;\n  }\n`;\n\nconst StyledGreetingText = styled.div`\n  color: var(--gray);\n  span {\n    color: var(--major);\n  }\n`;\n\nconst Header = ({ username }) => {\n  return (\n    <StyledHeader>\n      <h3>Tasks</h3>\n      <StyledGreetingText>\n        Hi <span>{username}</span>\n      </StyledGreetingText>\n    </StyledHeader>\n  );\n};\n\nexport default Header;\n","import styled from 'styled-components';\nimport clsx from 'clsx';\n\nconst StyledAddTodoContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  &.active {\n    box-shadow: 0 17px 0 -16px var(--major);\n  }\n`;\n\nconst StyledLabelIcon = styled.label`\n  display: inline-flex;\n  font-size: 30px;\n  transition: color 0.2s ease-out;\n  font-weight: 300;\n\n  &:after {\n    content: '+';\n  }\n`;\n\nconst StyledInputContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  flex: 1;\n  user-select: none;\n\n  input {\n    flex: 1;\n    padding: 8px 12px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--major);\n      font-size: 13px;\n    }\n  }\n  $.active {\n    input::placeholder {\n      color: var(--gray);\n    }\n  }\n`;\n\nconst StyledAddTodoActionContainer = styled.div`\n  button {\n    font-size: 13px;\n    color: var(--major);\n    padding-right: 5px;\n    display: none;\n  }\n\n  &.active {\n    button {\n      display: block;\n    }\n  }\n`;\nconst TodoInput = ({ inputValue, onChange, onKeyDown, onAddTodo }) => {\n  return (\n    <StyledAddTodoContainer\n      className={clsx('', { active: inputValue.length > 0 })} //在active的狀態(輸入值長度>0)增加底線樣式\n    >\n      <StyledLabelIcon className=\"icon\" htmlFor=\"add-todo-input\" />\n      <StyledInputContainer>\n        <input\n          id=\"add-todo-input\"\n          type=\"text\"\n          placeholder=\"新增工作\"\n          value={inputValue} //input裡的value是使用者輸入的inputValue\n          onChange={(event) => {\n            onChange?.(event.target.value);\n          }}\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              onKeyDown?.();\n            }\n          }}\n        />\n      </StyledInputContainer>\n      <StyledAddTodoActionContainer\n        className={clsx('', { active: inputValue.length > 0 })} //在active的狀態(輸入值長度>0)增加「新增」文字\n      >\n        <button className=\"btn-reset\" onClick={() => onAddTodo?.()}>\n          新增\n        </button>\n      </StyledAddTodoActionContainer>\n    </StyledAddTodoContainer>\n  );\n};\n\nexport default TodoInput;\n","import styled from 'styled-components';\nimport {\n  CheckActiveIcon,\n  CheckCircleIcon,\n  CheckHoverIcon,\n} from 'assets/images';\nimport clsx from 'clsx';\nimport { useRef } from 'react';\n\nconst StyledTaskItem = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  .task-item-body-input {\n    user-select: none;\n    display: none;\n    flex: 1;\n    padding: 8px 0px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--gray);\n      font-size: 13px;\n    }\n  }\n\n  &:hover {\n    background: #fff3eb;\n    box-shadow: inset 0 0 0 1px #fff3eb;\n\n    .task-item-action .btn-destroy {\n      display: inline-flex;\n    }\n  }\n\n  &.done {\n    .task-item-body {\n      color: var(--gray);\n      text-decoration: line-through;\n    }\n\n    .icon-checked {\n      background-image: url(${CheckActiveIcon});\n    }\n  }\n\n  &.edit {\n    .task-item-body-input {\n      display: block;\n    }\n    .task-item-body-text {\n      display: none;\n    }\n    .task-item-action {\n      display: none;\n    }\n  }\n\n  .task-item-checked {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .task-item-body {\n    font-weight: 400;\n    padding: 8px 12px;\n    flex: 1;\n    display: flex;\n  }\n\n  .task-item-action {\n    .btn-destroy {\n      display: none;\n      font-size: 30px;\n      transition: color 0.2s ease-out;\n      font-weight: 300;\n      &:after {\n        content: '×';\n      }\n    }\n  }\n\n  .icon-checked {\n    background-image: url(${CheckCircleIcon});\n    background-position: center;\n    background-repeat: no-repeat;\n\n    &:hover {\n      transition: background-image 0.5s;\n      background-image: url(${CheckHoverIcon});\n    }\n  }\n`;\n\nconst TodoItem = ({ todo, onSave, onDelete, onToggleDone, onChangeMode }) => {\n  const inputRef = useRef(null);\n  const handleKeyDown = (event) => {\n    if (inputRef.current.value.length > 0 && event.key === 'Enter') {\n      onSave?.({ id: todo.id, title: inputRef.current.value }); //取得當前輸入框的內容\n    }\n    if (event.key === 'Escape') {\n      onChangeMode?.({ id: todo.id, isEdit: false }); //傳到父層的資料\n    }\n  };\n  return (\n    <StyledTaskItem\n      className={clsx('', { done: todo.isDone }, { edit: todo.isEdit })}\n    >\n      <div className=\"task-item-checked\">\n        <span\n          className=\"icon icon-checked\"\n          onClick={() => {\n            onToggleDone?.(todo.id);\n          }}\n        />\n        {/* 點擊check之後觸發onToggleDone的事件並往父層TodoCollection傳遞，往上傳遞todo.id */}\n      </div>\n      <div\n        className=\"task-item-body\"\n        onDoubleClick={() => onChangeMode?.({ id: todo.id, isEdit: true })}\n      >\n        <span className=\"task-item-body-text\">{todo.title}</span>\n        <input\n          ref={inputRef}\n          className=\"task-item-body-input\"\n          // value={todo.title}\n          onKeyDown={handleKeyDown}\n          defaultValue={todo.title}\n        />\n      </div>\n      <div className=\"task-item-action \">\n        <button\n          className=\"btn-reset btn-destroy icon\"\n          onClick={() => onDelete?.(todo.id)}\n        ></button>\n      </div>\n    </StyledTaskItem>\n  );\n};\n\nexport default TodoItem;\n","import TodoItem from './TodoItem';\n\nconst TodoCollection = ({\n  todos,\n  onSave,\n  onDelete,\n  onToggleDone, //因為TodoItem往上傳遞了onToggleDone，所已TodoCollection也有相同的prop\n  onChangeMode,\n}) => {\n  return (\n    <div>\n      {todos.map((todo) => {\n        return (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            onToggleDone={(id) => onToggleDone?.(id)}\n            // 因為子層TodoItem裡面傳了onToggleDon(id)，為了將這個prop在傳到TodoCollection的父層TodoPage，所以在這邊也要使用onToggleDone?.(id)\n            onChangeMode={({ id, isEdit }) => onChangeMode?.({ id, isEdit })}\n            onSave={({ id, title }) => onSave?.({ id, title })}\n            onDelete={(id) => onDelete?.(id)}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default TodoCollection;\n","import { useAuth } from 'contexts/AuthContext';\nimport styled from 'styled-components';\n\nconst StyledFooter = styled.footer`\n  display: flex;\n  justify-content: space-between;\n\n  padding: 0 16px;\n  p {\n    font-size: 14px;\n    font-weight: 300;\n    margin: 2rem 0 1rem;\n  }\n`;\n\nconst StyledButton = styled.button`\n  padding: 0;\n  border: 0;\n  background: none;\n  vertical-align: baseline;\n  appearance: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  cursor: pointer;\n  outline: 0;\n\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2rem 0 1rem;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst Footer = ({ todosQty }) => {\n  const { logout } = useAuth();\n\n  const hangdleClick = () => {\n    logout();\n  };\n\n  return (\n    <StyledFooter>\n      <p>剩餘項目數： {todosQty}</p>\n      <StyledButton onClick={hangdleClick}>登出</StyledButton>\n    </StyledFooter>\n  );\n};\n\nexport default Footer;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\nimport { ACLogoIcon } from 'assets/images';\nimport { AuthInput } from 'components';\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { useEffect } from 'react';\nimport { useAuth } from 'contexts/AuthContext';\n\nconst LoginPage = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassWord] = useState('');\n  const navigate = useNavigate();\n  // 從useAuth裡面取出login方法和isAuthenticated資訊\n  // 呼叫login function的時候也會改動到useAuth的login之後的isAuthenticated的值\n  const { login, isAuthenticated } = useAuth();\n\n  const handleClick = async () => {\n    if (username.length === 0) {\n      return;\n    }\n    if (password.length === 0) {\n      return;\n    }\n\n    // 原本在login需要拿到success和isAuthenticated的true or false的結果，但在呼叫login api function之後，會拿到到useAuth裡的isAutenticated數值，所以此處刪掉isAuthenticated，而且呼叫的login function 來自useAuth\n    const success = await login({\n      username,\n      password,\n    });\n    if (success) {\n      // 登入成功訊息\n      Swal.fire({\n        position: 'top',\n        title: '登入成功！',\n        timer: 1000,\n        icon: 'success',\n        showConfirmButton: false,\n      });\n      return;\n    }\n    Swal.fire({\n      position: 'top',\n      title: '登入失敗！',\n      timer: 1000,\n      icon: 'error',\n      showConfirmButton: false,\n    });\n  };\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/todos');\n    }\n    // 因為有使用到navigate，所以要放到dependences裡\n  }, [navigate, isAuthenticated]);\n\n  return (\n    <AuthContainer>\n      <div>\n        <ACLogoIcon />\n      </div>\n      <h1>登入 Todo</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"帳號\"\n          placeholder=\"請輸入帳號\"\n          value={username}\n          onChange={(nameInputValue) => setUsername(nameInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          type=\"password\"\n          label=\"密碼\"\n          value={password}\n          placeholder=\"請輸入密碼\"\n          onChange={(passwordInputValue) => setPassWord(passwordInputValue)}\n        />\n      </AuthInputContainer>\n      <AuthButton onClick={handleClick}>登入</AuthButton>\n      <Link to=\"/signup\">\n        <AuthLinkText>註冊</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default LoginPage;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\nimport { ACLogoIcon } from 'assets/images';\nimport { AuthInput } from 'components';\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { useEffect } from 'react';\nimport { useAuth } from 'contexts/AuthContext';\n\nconst SignUpPage = () => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassWord] = useState('');\n  const navigate = useNavigate();\n  const { register, isAuthenticated } = useAuth();\n\n  const handleClick = async () => {\n    if (username.length === 0) {\n      return;\n    }\n    if (password.length === 0) {\n      return;\n    }\n    if (email.length === 0) {\n      return;\n    }\n    // 原本要從api/auth呼叫的 api register function，因爲useAuth而可以直接從useAuth裡面定義的register function呼叫，且因為useAuth已經有定義authToken內容，此處刪掉authToken，從register裡面取得username,email,password\n    const success = await register({\n      username,\n      email,\n      password,\n    });\n\n    if (success) {\n      Swal.fire({\n        title: '註冊成功',\n        icon: 'success',\n        showConfirmButton: false,\n        timer: 1000,\n        position: 'top',\n      });\n      navigate('/todos');\n      return;\n    }\n    Swal.fire({\n      title: '註冊失敗',\n      icon: 'error',\n      showConfirmButton: false,\n      timer: 1000,\n      position: 'top',\n    });\n  };\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/todos');\n    }\n  }, [navigate, isAuthenticated]);\n\n  return (\n    <AuthContainer>\n      <div>\n        <ACLogoIcon />\n      </div>\n      <h1>建立您的帳號</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"帳號\"\n          placeholder=\"請輸入帳號\"\n          value={username}\n          onChange={(nameInputValue) => setUsername(nameInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"Email\"\n          placeholder=\"請輸入Email\"\n          value={email}\n          onChange={(emailInputValue) => setEmail(emailInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"密碼\"\n          placeholder=\"請輸入密碼\"\n          value={password}\n          onChange={(passowrdInputValue) => setPassWord(passowrdInputValue)}\n        />\n      </AuthInputContainer>\n      <AuthButton onClick={handleClick}>註冊</AuthButton>\n      <Link to=\"/login\">\n        <AuthLinkText>取消</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default SignUpPage;\n","import axios from 'axios';\nconst baseUrl = 'https://todo-list.alphacamp.io/api';\n\nconst axiosInstance = axios.create({\n  baseURL: baseUrl,\n});\n\naxiosInstance.interceptors.request.use(\n  (config) => {\n    // 在header加上Token\n    const token = localStorage.getItem('authToken');\n    // 如果token存在，就使用config設定header，header的key使用authorization，value\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  // 如果發送請求失敗就把錯誤訊息印出來\n  (error) => {\n    return Promise.reject(error);\n  },\n);\n\nexport const getTodos = async () => {\n  try {\n    // 非同步操作要用await獲得，獲得的方式是response(res)\n    // 原本內容是axios，抽換成axiosInstance，讓每個使用者取得自己的todolist\n    const res = await axiosInstance.get(`${baseUrl}/todos`);\n    // 取得的內容是res.data，才是server實際上回傳的結果\n    return res.data.data;\n  } catch (error) {\n    console.error('[Get Todos failed]: ', error);\n  }\n};\n\nexport const createTodo = async (payload) => {\n  const { title, isDone } = payload;\n  // 變數 payload 通常用來表示「打包後的資訊」，在這裡打包了想要新增的 todo 內容\n\n  try {\n    const res = await axiosInstance.post(`${baseUrl}/todos`, {\n      title,\n      isDone,\n    });\n    // 實際上在資料庫上面的todolist還包覆在data的資料架，因為還要在res.data後面加上.data才能取得todolis資料\n    return res.data;\n  } catch (error) {\n    console.error('[Create Todo failed]: ', error);\n  }\n};\n\nexport const patchTodo = async (payload) => {\n  const { id, title, isDone } = payload;\n  try {\n    const res = await axiosInstance.patch(`${baseUrl}/todos/${id}`, {\n      title,\n      isDone,\n    });\n    return res.data;\n  } catch (error) {\n    console.error('[Patch Todo failed]:', error);\n  }\n};\n\nexport const deleteTodo = async (id) => {\n  try {\n    const res = await axiosInstance.delete(`${baseUrl}/todos/${id}`);\n    return res.data;\n  } catch (error) {\n    console.error('[Delete Todo failed]:', error);\n  }\n};\n","import { Footer, Header, TodoCollection, TodoInput } from 'components';\nimport { createTodo, getTodos, patchTodo, deleteTodo } from 'api/todos';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from 'contexts/AuthContext';\n\nconst TodoPage = () => {\n  // 讓初始資料是空陣列\n  const [inputValue, setInputValue] = useState('');\n  const [todos, setTodos] = useState([]);\n  const navigate = useNavigate();\n  const { isAuthenticated, currentMember } = useAuth();\n\n  const todoNums = todos.length;\n\n  const handleChange = (value) => {\n    setInputValue(value);\n  };\n\n  // 因為使用await獲得response，所以handler改成一個async function\n  const handleAddTodo = async () => {\n    if (inputValue.length === 0) {\n      return; //如果inputValue長度為0，回傳本來的todos\n    }\n\n    try {\n      // 使用createTodo取得資料\n      const data = await createTodo({\n        title: inputValue,\n        isDone: false,\n      });\n      setTodos((prevTodos) => {\n        return [\n          ...prevTodos,\n          {\n            id: data.id,\n            title: data.title,\n            isDone: data.isDone,\n            isEdit: false,\n          },\n        ];\n      });\n      setInputValue('');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleKeyDown = async () => {\n    if (inputValue.length === 0) {\n      return; //如果inputValue長度為0，回傳本來的todos\n    }\n    try {\n      // 使用createTodo取得資料\n      const data = await createTodo({\n        title: inputValue,\n        isDone: false,\n      });\n      setTodos((prevTodos) => {\n        return [\n          ...prevTodos,\n          {\n            id: data.id,\n            title: data.title,\n            isDone: data.isDone,\n            isEdit: false,\n          },\n        ];\n      });\n      setInputValue('');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  // patch todo和delete todo會觸發的動作\n  const handleToggleDone = async (id) => {\n    //從子層獲取的資訊是id，這樣就會知道是哪一筆資料需要更新\n\n    const currentTodo = todos.find((todo) => todo.id === id);\n\n    try {\n      await patchTodo({\n        id,\n        isDone: !currentTodo.isDone,\n      });\n      setTodos((prevTodos) => {\n        //獲取當前的Todos\n        return prevTodos.map((todo) => {\n          //使用.map遍歷當前Todos\n          if (todo.id === id) {\n            //如果遍歷的todo.id等於子層傳上來的id\n            return {\n              ...todo,\n              isDone: !todo.isDone, // 使用!改變原本isDone的狀態\n            };\n          }\n          return todo;\n        });\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleChangeMode = ({ id, isEdit }) => {\n    setTodos((prevTodos) => {\n      return prevTodos.map((todo) => {\n        if (todo.id === id) {\n          return {\n            ...todo,\n            isEdit,\n          };\n        }\n        return { ...todo, isEdit: false };\n      });\n    });\n  };\n\n  // patch todo和delete todo會觸發的動作\n  const handleSave = async ({ id, title }) => {\n    try {\n      await patchTodo({\n        id,\n        title,\n      });\n      setTodos((prevTodos) => {\n        return prevTodos.map((todo) => {\n          if (todo.id === id) {\n            return {\n              ...todo,\n              title,\n              isEdit: false,\n            };\n          }\n          return todo;\n        });\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await deleteTodo(id);\n      setTodos((prevTodos) => prevTodos.filter((todo) => todo.id !== id));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  // 取用getTodos的方法\n  useEffect(() => {\n    // 非同步操錯可能有失敗情況，所以用try包覆動作，catch包覆錯誤訊息\n    const getTodosAsync = async () => {\n      try {\n        // 透過await從後端取得所有todos\n        const todos = await getTodos();\n        setTodos(todos.map((todo) => ({ ...todo, isEdit: false })));\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    getTodosAsync();\n  }, []);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n    }\n  }, [navigate, isAuthenticated]);\n\n  return (\n    <div>\n      {/* TodoPage */}\n      <Header username={currentMember?.name} />\n      <TodoInput\n        inputValue={inputValue}\n        onChange={handleChange}\n        onAddTodo={handleAddTodo}\n        onKeyDown={handleKeyDown}\n      />\n      <TodoCollection\n        todos={todos}\n        onToggleDone={handleToggleDone}\n        onChangeMode={handleChangeMode}\n        onSave={handleSave}\n        onDelete={handleDelete}\n      />\n      <Footer todosQty={todoNums} />\n    </div>\n  );\n};\n\nexport default TodoPage;\n","import './App.scss';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { HomePage, LoginPage, SignUpPage, TodoPage } from 'pages';\nimport { AuthProvider } from 'contexts/AuthContext';\n\nconst basename = process.env.PUBLIC_URL;\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <BrowserRouter basename={basename}>\n        <AuthProvider>\n          <Routes>\n            <Route path=\"login\" element={<LoginPage />} />\n            <Route path=\"signup\" element={<SignUpPage />} />\n            <Route path=\"todos\" element={<TodoPage />} />\n            <Route path=\"*\" element={<HomePage />} />\n          </Routes>\n        </AuthProvider>\n      </BrowserRouter>\n    </div>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}